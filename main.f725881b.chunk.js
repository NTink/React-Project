(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),l=a.n(s),i=(a(17),a(2)),c=a.n(i),o=a(5),u=a(6),h=a(7),m=a(9),d=a(8),p=a(1),E=a(10),f=(a(19),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={input:"",list:{},error:!1,errorMessage:"",currentPage:1},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleCitySearch=a.handleCitySearch.bind(Object(p.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h4",null,"Find the best Restaurants, Cafes & Cuisine in Your Place"),r.a.createElement("input",{type:"text",name:"City",onChange:this.handleChange,placeholder:"Please Enter City Name","aria-label":"Search bar"}),r.a.createElement("button",{onClick:function(){return e.handleCitySearch(1)},"aria-label":"search button"},"Search"),this.state.list&&this.state.list.restaurants&&this.state.list.restaurants.length>0&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Price"))),r.a.createElement("tbody",null,this.state.list.restaurants&&this.state.list.restaurants.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address),r.a.createElement("td",null,e.price))})),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:3},r.a.createElement("select",{onChange:function(t){return e.handleCitySearch(parseInt(t.target.value))},value:this.state.currentPage},Array(this.state.numberofPages).fill(1).map(function(e,t){return r.a.createElement("option",{key:t+1,value:t+1},t+1)})))))),this.state.list&&this.state.list.restaurants&&0===this.state.list.restaurants.length&&r.a.createElement("div",null," No restaurants found "),this.state.error&&r.a.createElement("div",null,this.state.errorMessage)),r.a.createElement("footer",null,r.a.createElement("small",null,"All Rights Reserved \xa9 2010 - 2019 Food Service.")))}},{key:"handleCitySearch",value:function(){var e=Object(o.a)(c.a.mark(function e(t){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.input){e.next=4;break}this.setState({error:!0,errorMessage:"Please enter City Name"}),e.next=16;break;case 4:return this.setState({error:!1,currentPage:t,list:{},errorMessage:""}),e.next=7,fetch("http://opentable.herokuapp.com/api/restaurants?city=".concat(this.state.input,"&per_page=15&page=").concat(t));case 7:if(!((a=e.sent).status>=200&&a.status<300)){e.next=15;break}return e.next=11,a.json();case 11:n=e.sent,this.setState({list:n,numberofPages:Math.ceil(n.total_entries/n.per_page)}),e.next=16;break;case 15:this.setState({error:!0,errorMessage:"Error! Please contact Admin"});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState({input:e.target.value,error:!1})}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.f725881b.chunk.js.map